var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameView_1 = require("./script/GameView");
var GameOver_1 = require("./script/GameOver");
var GameStart_1 = require("./script/GameStart");
var Hammer_1 = require("./script/Hammer");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameView.ts", GameView_1.default);
        reg("script/GameOver.ts", GameOver_1.default);
        reg("script/GameStart.ts", GameStart_1.default);
        reg("script/Hammer.ts", Hammer_1.default);
    };
    GameConfig.width = 800;
    GameConfig.height = 600;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "GameStart.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameOver":3,"./script/GameStart":4,"./script/GameView":5,"./script/Hammer":6}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
/**
 * 结束界面类
 *
 *
 *
 *  设置children的var属性
 *  继承的script 要通过this.restartBtn方式获取children对象
 *
 */
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var GameOverView = /** @class */ (function (_super) {
    __extends(GameOverView, _super);
    function GameOverView() {
        var _this = _super.call(this) || this;
        // 居中显示
        _this.centerX = 0;
        _this.centerY = 0;
        // 重启事件
        _this.restartBtn.on(Laya.Event.CLICK, _this, _this.onRestartGame);
        return _this;
    }
    // 重启游戏
    GameOverView.prototype.onRestartGame = function () {
        Laya.Scene.open("Game.scene");
        this.restartBtn.off(Laya.Event.CLICK, this, this.onRestartGame);
    };
    // 设置分数显示
    GameOverView.prototype.onOpened = function (score) {
        this.score.value = "" + score;
    };
    return GameOverView;
}(layaMaxUI_1.ui.GameOverUI));
exports.default = GameOverView;
},{"../ui/layaMaxUI":8}],4:[function(require,module,exports){
"use strict";
/**
 *
 *  挂载的script 要通过this.owner.getChildByName("btn_start") as Laya.Button的方式获取children对象
 *   要设置children的name属性
 *
*/
Object.defineProperty(exports, "__esModule", { value: true });
var GameStart = /** @class */ (function (_super) {
    __extends(GameStart, _super);
    function GameStart() {
        return _super.call(this) || this;
    }
    GameStart.prototype.onEnable = function () {
        // this.owner.btn_start.on(Laya.Event.MOUSE_DOWN,this,this.click)
        this.btn = this.owner.getChildByName("btn_start");
        this.btn.on(Laya.Event.MOUSE_DOWN, this, this.click);
    };
    GameStart.prototype.onDisable = function () {
    };
    GameStart.prototype.click = function () {
        Laya.SoundManager.playMusic("res/sounds/bgm.mp3", 0, null);
        Laya.Scene.open("Game.scene");
    };
    return GameStart;
}(Laya.Script));
exports.default = GameStart;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏主界面类
 * 载入地鼠
 * 执行主循环
 */
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Hammer_1 = require("./Hammer");
var Mole_1 = require("./Mole");
var GameView = /** @class */ (function (_super) {
    __extends(GameView, _super);
    function GameView() {
        var _this = _super.call(this) || this;
        _this.moles = [];
        _this.moleNum = 9;
        // 初始化
        _this.init();
        // 设置进度条初始值，分数值，击中回调
        _this.gameStart();
        return _this;
    }
    // 初始化
    GameView.prototype.init = function () {
        // 居中显示
        this.centerX = 0;
        this.centerY = 0;
        // 初始化9只地鼠
        this.moles = [];
        this.moleNum = 9;
        this.hitCallBackHandler = Laya.Handler.create(this, this.setScore, null, false);
        for (var i = 0; i < this.moleNum; i++) {
            this.moleBox = this.getChildByName("item" + i);
            this.mole = new Mole_1.default(this.moleBox.getChildByName("normal"), this.moleBox.getChildByName("hit"), this.moleBox.getChildByName("score"), 25, this.hitCallBackHandler);
            this.moles.push(this.mole);
        }
        // 初始化锤子
        this.hammer = new Hammer_1.default();
        this.addChild(this.hammer);
    };
    // 游戏启动
    GameView.prototype.gameStart = function () {
        // 重置进度条，分数，锤子
        this.timebar.value = 1;
        this.score = 0;
        this.hammer.start();
        this.updateScoreUI(this.score);
        // 执行主循环
        Laya.timer.loop(1000, this, this.onLoop);
    };
    // 主循环，倒计时，随机显示一只地鼠
    GameView.prototype.onLoop = function () {
        this.timebar.value -= (10 / 90);
        if (this.timebar.value <= 0) {
            return this.gameOver();
        }
        this.moles[Math.floor(Math.random() * this.moleNum)].show();
    };
    // 游戏结束
    GameView.prototype.gameOver = function () {
        this.hammer.end();
        Laya.timer.clear(this, this.onLoop);
        Laya.Scene.open("GameOver.scene", true, this.scorelabel.value);
    };
    // 击中地鼠回调记录分数
    GameView.prototype.setScore = function (type) {
        this.score += (type == 1 ? -100 : 100);
        if (this.score < 0) {
            this.score = 0;
        }
        this.updateScoreUI(this.score);
    };
    // 更新分数显示
    GameView.prototype.updateScoreUI = function (score) {
        this.scorelabel.value = "" + score;
    };
    return GameView;
}(layaMaxUI_1.ui.GameUI));
exports.default = GameView;
},{"../ui/layaMaxUI":8,"./Hammer":6,"./Mole":7}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 锤子类
 */
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Hammer = /** @class */ (function (_super) {
    __extends(Hammer, _super);
    function Hammer() {
        var _this = _super.call(this) || this;
        _this.visible = false;
        return _this;
    }
    // 开始使用
    Hammer.prototype.start = function () {
        this.visible = true;
        Laya.Mouse.hide();
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.onMouseMove);
        this.onMouseMove();
    };
    // 结束使用
    Hammer.prototype.end = function () {
        this.visible = false;
        Laya.Mouse.show();
        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);
        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.onMouseMove);
    };
    Hammer.prototype.onMouseDown = function () {
    };
    Hammer.prototype.onMouseMove = function () {
        this.pos(Laya.stage.mouseX - this.width / 2, Laya.stage.mouseY - this.height / 2);
    };
    return Hammer;
}(layaMaxUI_1.ui.HammerUI));
exports.default = Hammer;
},{"../ui/layaMaxUI":8}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 地鼠类
 */
var Mole = /** @class */ (function () {
    function Mole(normalImg, hitImg, scoreImg, downY, hitCallBackHandler) {
        this.normalImg = normalImg;
        this.hitImg = hitImg;
        this.scoreImg = scoreImg;
        this.downY = downY;
        this.hitCallBackHandler = hitCallBackHandler;
        this.upY = this.normalImg.y - 5;
        this.scoreY = this.scoreImg.y;
        // 碰撞事件
        this.normalImg.on(Laya.Event.CLICK, this, this.hit);
        this.reset();
    }
    // 重置
    Mole.prototype.reset = function () {
        this.normalImg.visible = false;
        this.hitImg.visible = false;
        this.scoreImg.visible = false;
        this.isActive = false;
        this.isShow = false;
        this.isHit = false;
    };
    // 显示
    Mole.prototype.show = function () {
        if (!this.isActive) {
            this.isActive = true;
            this.isShow = true;
            this.type = Math.random() < 0.5 ? 1 : 2;
            this.normalImg.graphics.clear();
            var normal = Laya.loader.getRes("ui/mouse_normal_" + this.type + ".png");
            this.normalImg.graphics.drawTexture(normal, 0, 0);
            this.hitImg.graphics.clear();
            var hit = Laya.loader.getRes("ui/mouse_hit_" + this.type + ".png");
            this.hitImg.graphics.drawTexture(hit, 0, 0);
            this.scoreImg.graphics.clear();
            var score = Laya.loader.getRes("ui/score_" + this.type + ".png");
            this.scoreImg.graphics.drawTexture(score, 0, 0);
            // this.normalImg.skin = `ui/mouse_normal_${this.type}.png`
            // this.hitImg.skin = `ui/mouse_hit_${this.type}.png`
            // this.scoreImg.skin = `ui/score_${this.type}.png`
            this.normalImg.y = this.downY;
            this.normalImg.visible = true;
            Laya.Tween.to(this.normalImg, { y: this.upY }, 500, Laya.Ease.backInOut, Laya.Handler.create(this, this.showComplete));
        }
    };
    // 停留
    Mole.prototype.showComplete = function () {
        if (this.isShow && !this.isHit) {
            Laya.timer.once(2000, this, this.hide);
        }
    };
    // 消失
    Mole.prototype.hide = function () {
        if (this.isShow && !this.isHit) {
            this.isShow = false;
            Laya.Tween.to(this.normalImg, { y: this.downY }, 300, Laya.Ease.backIn, Laya.Handler.create(this, this.reset));
        }
    };
    // 受击
    Mole.prototype.hit = function () {
        if (this.isShow && !this.isHit) {
            this.isShow = false;
            this.isHit = true;
            this.normalImg.visible = false;
            this.hitImg.visible = true;
            this.hitCallBackHandler.runWith(this.type);
            Laya.timer.clear(this, this.hide);
            Laya.timer.once(500, this, this.reset);
            this.showScore();
        }
    };
    // 显示飘字效果
    Mole.prototype.showScore = function () {
        this.scoreImg.y = this.scoreY + 30;
        this.scoreImg.scale(1, 1);
        this.scoreImg.visible = true;
        Laya.Tween.to(this.scoreImg, { y: this.scoreY, scaleX: 1, scoreY: 1 }, 300, Laya.Ease.backOut);
    };
    return Mole;
}());
exports.default = Mole;
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var GameUI = /** @class */ (function (_super) {
        __extends(GameUI, _super);
        function GameUI() {
            return _super.call(this) || this;
        }
        GameUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("Game");
        };
        return GameUI;
    }(Laya.View));
    ui.GameUI = GameUI;
    REG("ui.GameUI", GameUI);
    var GameOverUI = /** @class */ (function (_super) {
        __extends(GameOverUI, _super);
        function GameOverUI() {
            return _super.call(this) || this;
        }
        GameOverUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("GameOver");
        };
        return GameOverUI;
    }(Laya.View));
    ui.GameOverUI = GameOverUI;
    REG("ui.GameOverUI", GameOverUI);
    var GameStartUI = /** @class */ (function (_super) {
        __extends(GameStartUI, _super);
        function GameStartUI() {
            return _super.call(this) || this;
        }
        GameStartUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("GameStart");
        };
        return GameStartUI;
    }(Laya.View));
    ui.GameStartUI = GameStartUI;
    REG("ui.GameStartUI", GameStartUI);
    var HammerUI = /** @class */ (function (_super) {
        __extends(HammerUI, _super);
        function HammerUI() {
            return _super.call(this) || this;
        }
        HammerUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("Hammer");
        };
        return HammerUI;
    }(Laya.View));
    ui.HammerUI = HammerUI;
    REG("ui.HammerUI", HammerUI);
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9HYW1lT3Zlci50cyIsInNyYy9zY3JpcHQvR2FtZVN0YXJ0LnRzIiwic3JjL3NjcmlwdC9HYW1lVmlldy50cyIsInNyYy9zY3JpcHQvSGFtbWVyLnRzIiwic3JjL3NjcmlwdC9Nb2xlLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsOENBQXdDO0FBQ3hDLDhDQUF3QztBQUN4QyxnREFBMEM7QUFDMUMsMENBQW9DO0FBQ3BDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsb0JBQW9CLEVBQUMsa0JBQVEsQ0FBQyxDQUFDO1FBQ25DLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxrQkFBUSxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLG1CQUFTLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFuQk0sZ0JBQUssR0FBUSxHQUFHLENBQUM7SUFDakIsaUJBQU0sR0FBUSxHQUFHLENBQUM7SUFDbEIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxLQUFLLENBQUM7SUFDcEIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIscUJBQVUsR0FBSyxpQkFBaUIsQ0FBQztJQUNqQyxv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QUcsQ0FBQyxhQUFhLEVBQUMsUUFBUSxDQUFDLENBQUM7QUFDaEMsQ0FBQyxFQXZDYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUF1Q2YiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lVmlldyBmcm9tIFwiLi9zY3JpcHQvR2FtZVZpZXdcIlxuaW1wb3J0IEdhbWVPdmVyIGZyb20gXCIuL3NjcmlwdC9HYW1lT3ZlclwiXG5pbXBvcnQgR2FtZVN0YXJ0IGZyb20gXCIuL3NjcmlwdC9HYW1lU3RhcnRcIlxuaW1wb3J0IEhhbW1lciBmcm9tIFwiLi9zY3JpcHQvSGFtbWVyXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTgwMDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTYwMDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiR2FtZVN0YXJ0LnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVZpZXcudHNcIixHYW1lVmlldyk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lT3Zlci50c1wiLEdhbWVPdmVyKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVTdGFydC50c1wiLEdhbWVTdGFydCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9IYW1tZXIudHNcIixIYW1tZXIpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRcclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHRcdFxyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvKipcclxuICog57uT5p2f55WM6Z2i57G7XHJcbiAqIFxyXG4gKiBcclxuICogXHJcbiAqICDorr7nva5jaGlsZHJlbueahHZhcuWxnuaAp1xyXG4gKiAg57un5om/55qEc2NyaXB0IOimgemAmui/h3RoaXMucmVzdGFydEJ0buaWueW8j+iOt+WPlmNoaWxkcmVu5a+56LGhXHJcbiAqICBcclxuICovXHJcblxyXG5pbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU92ZXJWaWV3IGV4dGVuZHMgdWkuR2FtZU92ZXJVSSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgLy8g5bGF5Lit5pi+56S6XHJcbiAgICAgICAgdGhpcy5jZW50ZXJYID0gMFxyXG4gICAgICAgIHRoaXMuY2VudGVyWSA9IDBcclxuICAgICAgICAvLyDph43lkK/kuovku7ZcclxuXHJcbiAgICAgICAgdGhpcy5yZXN0YXJ0QnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25SZXN0YXJ0R2FtZSlcclxuICAgIH1cclxuICAgIC8vIOmHjeWQr+a4uOaIj1xyXG4gICAgb25SZXN0YXJ0R2FtZSgpIHtcclxuICAgICAgICBMYXlhLlNjZW5lLm9wZW4oXCJHYW1lLnNjZW5lXCIpXHJcbiAgICAgICAgdGhpcy5yZXN0YXJ0QnRuLm9mZihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uUmVzdGFydEdhbWUpXHJcbiAgICB9XHJcbiAgICAvLyDorr7nva7liIbmlbDmmL7npLpcclxuICAgIG9uT3BlbmVkKHNjb3JlKXtcclxuICAgICAgICB0aGlzLnNjb3JlLnZhbHVlID0gXCJcIitzY29yZTtcclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiBcclxuICogIOaMgui9veeahHNjcmlwdCDopoHpgJrov4d0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuX3N0YXJ0XCIpIGFzIExheWEuQnV0dG9u55qE5pa55byP6I635Y+WY2hpbGRyZW7lr7nosaFcclxuICogICDopoHorr7nva5jaGlsZHJlbueahG5hbWXlsZ7mgKdcclxuICogXHJcbiovXHJcbiAgICBcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTdGFydCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyBcclxuICAgIFxyXG4gICAgfVxyXG4gICBcclxuICAgIHB1YmxpYyBidG46TGF5YS5CdXR0b25cclxuICAgICAgICBcclxuICAgIFxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhpcy5vd25lci5idG5fc3RhcnQub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLHRoaXMsdGhpcy5jbGljaylcclxuICAgICAgIHRoaXMuYnRuPXRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5fc3RhcnRcIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICB0aGlzLmJ0bi5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcyx0aGlzLmNsaWNrKVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsaWNrKCl7XHJcbiAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheU11c2ljKFwicmVzL3NvdW5kcy9iZ20ubXAzXCIsIDAsIG51bGwpXHJcbiAgICAgICAgTGF5YS5TY2VuZS5vcGVuKFwiR2FtZS5zY2VuZVwiKVxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIOa4uOaIj+S4u+eVjOmdouexu1xyXG4gKiDovb3lhaXlnLDpvKBcclxuICog5omn6KGM5Li75b6q546vXHJcbiAqL1xyXG5pbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuaW1wb3J0IEhhbW1lciBmcm9tIFwiLi9IYW1tZXJcIjtcclxuaW1wb3J0IE1vbGUgZnJvbSBcIi4vTW9sZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVmlldyBleHRlbmRzIHVpLkdhbWVVSSB7XHJcbiAgICBwdWJsaWMgbW9sZXMgPSBbXVxyXG4gICAgcHVibGljIG1vbGVOdW0gPSA5XHJcbiAgICBwdWJsaWMgaGl0Q2FsbEJhY2tIYW5kbGVyXHJcbiAgICBwdWJsaWMgbW9sZSBcclxuICAgIHB1YmxpYyBtb2xlQm94XHJcbiAgICBwdWJsaWMgaGFtbWVyIFxyXG4gICAgcHVibGljIHRpbWViYXJcclxuICAgIHB1YmxpYyBzY29yZSBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICAvLyDliJ3lp4vljJZcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgICAgIC8vIOiuvue9rui/m+W6puadoeWIneWni+WAvO+8jOWIhuaVsOWAvO+8jOWHu+S4reWbnuiwg1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXJ0KClcclxuICAgIH1cclxuICAgIC8vIOWIneWni+WMllxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvLyDlsYXkuK3mmL7npLpcclxuICAgICAgICB0aGlzLmNlbnRlclggPSAwXHJcbiAgICAgICAgdGhpcy5jZW50ZXJZID0gMFxyXG4gICAgICAgIC8vIOWIneWni+WMljnlj6rlnLDpvKBcclxuICAgICAgICB0aGlzLm1vbGVzID0gW11cclxuICAgICAgICB0aGlzLm1vbGVOdW0gPSA5XHJcbiAgICAgICAgdGhpcy5oaXRDYWxsQmFja0hhbmRsZXIgPSBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMuc2V0U2NvcmUsIG51bGwsIGZhbHNlKVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tb2xlTnVtOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5tb2xlQm94ID0gdGhpcy5nZXRDaGlsZEJ5TmFtZShgaXRlbSR7aX1gKVxyXG4gICAgICAgICAgICB0aGlzLm1vbGUgPSBuZXcgTW9sZSh0aGlzLm1vbGVCb3guZ2V0Q2hpbGRCeU5hbWUoXCJub3JtYWxcIikgYXMgTGF5YS5TcHJpdGUgLFxyXG4gICAgICAgICAgICB0aGlzLm1vbGVCb3guZ2V0Q2hpbGRCeU5hbWUoXCJoaXRcIilhcyBMYXlhLlNwcml0ZSxcclxuICAgICAgICAgICAgdGhpcy5tb2xlQm94LmdldENoaWxkQnlOYW1lKFwic2NvcmVcIilhcyBMYXlhLlNwcml0ZSxcclxuICAgICAgICAgICAgIDI1LCB0aGlzLmhpdENhbGxCYWNrSGFuZGxlcilcclxuICAgICAgICAgICAgdGhpcy5tb2xlcy5wdXNoKHRoaXMubW9sZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Yid5aeL5YyW6ZSk5a2QXHJcbiAgICAgICAgdGhpcy5oYW1tZXIgPSBuZXcgSGFtbWVyKCk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmhhbW1lcik7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICAvLyDmuLjmiI/lkK/liqhcclxuICAgIGdhbWVTdGFydCgpIHtcclxuICAgICAgICAvLyDph43nva7ov5vluqbmnaHvvIzliIbmlbDvvIzplKTlrZBcclxuICAgICAgICB0aGlzLnRpbWViYXIudmFsdWU9IDFcclxuICAgICAgICB0aGlzLnNjb3JlID0gMFxyXG4gICAgICAgIHRoaXMuaGFtbWVyLnN0YXJ0KClcclxuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkodGhpcy5zY29yZSlcclxuICAgICAgICAvLyDmiafooYzkuLvlvqrnjq9cclxuICAgICAgICBMYXlhLnRpbWVyLmxvb3AoMTAwMCwgdGhpcywgdGhpcy5vbkxvb3ApXHJcbiAgICB9XHJcbiAgICAvLyDkuLvlvqrnjq/vvIzlgJLorqHml7bvvIzpmo/mnLrmmL7npLrkuIDlj6rlnLDpvKBcclxuICAgIG9uTG9vcCgpIHtcclxuICAgICAgICB0aGlzLnRpbWViYXIudmFsdWUgLT0gKDEwIC8gOTApXHJcbiAgICAgICAgaWYgKHRoaXMudGltZWJhci52YWx1ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPdmVyKClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2xlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLm1vbGVOdW0pXS5zaG93KClcclxuICAgIH1cclxuICAgIC8vIOa4uOaIj+e7k+adn1xyXG4gICAgZ2FtZU92ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5oYW1tZXIuZW5kKClcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMub25Mb29wKVxyXG4gICAgICAgIExheWEuU2NlbmUub3BlbihcIkdhbWVPdmVyLnNjZW5lXCIsdHJ1ZSx0aGlzLnNjb3JlbGFiZWwudmFsdWUpXHJcbiAgICB9XHJcbiAgICAvLyDlh7vkuK3lnLDpvKDlm57osIPorrDlvZXliIbmlbBcclxuICAgIHNldFNjb3JlKHR5cGUpIHtcclxuICAgICAgICB0aGlzLnNjb3JlICs9ICh0eXBlID09IDEgPyAtMTAwIDogMTAwKVxyXG4gICAgICAgIGlmICh0aGlzLnNjb3JlIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjb3JlID0gMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlVUkodGhpcy5zY29yZSlcclxuICAgIH1cclxuICAgIC8vIOabtOaWsOWIhuaVsOaYvuekulxyXG4gICAgdXBkYXRlU2NvcmVVSShzY29yZSkge1xyXG4gICAgICAgIHRoaXMuc2NvcmVsYWJlbC52YWx1ZSA9IFwiXCIrc2NvcmU7XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICog6ZSk5a2Q57G7XHJcbiAqL1xyXG5pbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuIGV4cG9ydCBkZWZhdWx0ICBjbGFzcyBIYW1tZXIgZXh0ZW5kcyB1aS5IYW1tZXJVSSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2VcclxuICAgIH1cclxuICAgIC8vIOW8gOWni+S9v+eUqFxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxyXG4gICAgICAgIExheWEuTW91c2UuaGlkZSgpXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMub25Nb3VzZURvd24pXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX01PVkUsIHRoaXMsIHRoaXMub25Nb3VzZU1vdmUpXHJcbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSgpXHJcbiAgICB9XHJcbiAgICAvLyDnu5PmnZ/kvb/nlKhcclxuICAgIGVuZCgpIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxyXG4gICAgICAgIExheWEuTW91c2Uuc2hvdygpXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLm9uTW91c2VEb3duKVxyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5vbk1vdXNlTW92ZSlcclxuICAgIH1cclxuICAgIG9uTW91c2VEb3duKCkge1xyXG4gICAgICBcclxuICAgIH1cclxuICAgIG9uTW91c2VNb3ZlKCkge1xyXG4gICAgICAgIHRoaXMucG9zKExheWEuc3RhZ2UubW91c2VYIC0gdGhpcy53aWR0aCAvIDIsIExheWEuc3RhZ2UubW91c2VZIC0gdGhpcy5oZWlnaHQgLyAyKVxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIOWcsOm8oOexu1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9sZSB7XHJcbiAgICBwdWJsaWMgbm9ybWFsSW1nXHJcbiAgICBwdWJsaWMgaGl0SW1nXHJcbiAgICBwdWJsaWMgc2NvcmVJbWdcclxuICAgIHB1YmxpYyBpc0FjdGl2ZVxyXG4gICAgcHVibGljIGlzU2hvd1xyXG4gICAgcHVibGljIGlzSGl0XHJcbiAgICBwdWJsaWMgZG93bllcclxuICAgIHB1YmxpYyBoaXRDYWxsQmFja0hhbmRsZXJcclxuICAgIHB1YmxpYyB1cFlcclxuICAgIHB1YmxpYyBzY29yZVlcclxuICAgIHB1YmxpYyB0eXBlXHJcbiAgICBjb25zdHJ1Y3Rvcihub3JtYWxJbWcsIGhpdEltZywgc2NvcmVJbWcsIGRvd25ZLCBoaXRDYWxsQmFja0hhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLm5vcm1hbEltZyA9IG5vcm1hbEltZ1xyXG4gICAgICAgIHRoaXMuaGl0SW1nID0gaGl0SW1nXHJcbiAgICAgICAgdGhpcy5zY29yZUltZyA9IHNjb3JlSW1nXHJcbiAgICAgICAgdGhpcy5kb3duWSA9IGRvd25ZXHJcbiAgICAgICAgdGhpcy5oaXRDYWxsQmFja0hhbmRsZXIgPSBoaXRDYWxsQmFja0hhbmRsZXJcclxuICAgICAgICB0aGlzLnVwWSA9IHRoaXMubm9ybWFsSW1nLnktNVxyXG4gICAgICAgIHRoaXMuc2NvcmVZID0gdGhpcy5zY29yZUltZy55XHJcbiAgICAgICAgLy8g56Kw5pKe5LqL5Lu2XHJcbiAgICAgICAgdGhpcy5ub3JtYWxJbWcub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5oaXQpXHJcbiAgICAgICAgdGhpcy5yZXNldCgpXHJcbiAgICB9XHJcbiAgICAvLyDph43nva5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMubm9ybWFsSW1nLnZpc2libGUgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuaGl0SW1nLnZpc2libGUgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuc2NvcmVJbWcudmlzaWJsZSA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuaXNIaXQgPSBmYWxzZVxyXG4gICAgfVxyXG4gICAgLy8g5pi+56S6XHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLmlzU2hvdyA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IDEgOiAyXHJcblxyXG4gICAgICAgICAgICB0aGlzLm5vcm1hbEltZy5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB2YXIgbm9ybWFsID0gTGF5YS5sb2FkZXIuZ2V0UmVzKGB1aS9tb3VzZV9ub3JtYWxfJHt0aGlzLnR5cGV9LnBuZ2ApO1xyXG4gICAgICAgICAgICB0aGlzLm5vcm1hbEltZy5ncmFwaGljcy5kcmF3VGV4dHVyZShub3JtYWwsIDAsIDApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5oaXRJbWcuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICAgICAgdmFyIGhpdCA9IExheWEubG9hZGVyLmdldFJlcyhgdWkvbW91c2VfaGl0XyR7dGhpcy50eXBlfS5wbmdgKTtcclxuICAgICAgICAgICAgdGhpcy5oaXRJbWcuZ3JhcGhpY3MuZHJhd1RleHR1cmUoaGl0LCAwLCAwKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcmVJbWcuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICAgICAgdmFyIHNjb3JlID0gTGF5YS5sb2FkZXIuZ2V0UmVzKGB1aS9zY29yZV8ke3RoaXMudHlwZX0ucG5nYCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcmVJbWcuZ3JhcGhpY3MuZHJhd1RleHR1cmUoc2NvcmUsIDAsIDApO1xyXG5cclxuICAgICAgICAgICAgLy8gdGhpcy5ub3JtYWxJbWcuc2tpbiA9IGB1aS9tb3VzZV9ub3JtYWxfJHt0aGlzLnR5cGV9LnBuZ2BcclxuICAgICAgICAgICAgLy8gdGhpcy5oaXRJbWcuc2tpbiA9IGB1aS9tb3VzZV9oaXRfJHt0aGlzLnR5cGV9LnBuZ2BcclxuICAgICAgICAgICAgLy8gdGhpcy5zY29yZUltZy5za2luID0gYHVpL3Njb3JlXyR7dGhpcy50eXBlfS5wbmdgXHJcbiAgICAgICAgICAgIHRoaXMubm9ybWFsSW1nLnkgPSB0aGlzLmRvd25ZXHJcbiAgICAgICAgICAgIHRoaXMubm9ybWFsSW1nLnZpc2libGUgPSB0cnVlXHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5ub3JtYWxJbWcsIHsgeTogdGhpcy51cFkgfSwgNTAwLCBMYXlhLkVhc2UuYmFja0luT3V0LCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMuc2hvd0NvbXBsZXRlKSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDlgZznlZlcclxuICAgIHNob3dDb21wbGV0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1Nob3cgJiYgIXRoaXMuaXNIaXQpIHtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDIwMDAsIHRoaXMsIHRoaXMuaGlkZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDmtojlpLFcclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTaG93ICYmICF0aGlzLmlzSGl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2VcclxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLm5vcm1hbEltZywgeyB5OiB0aGlzLmRvd25ZIH0sIDMwMCwgTGF5YS5FYXNlLmJhY2tJbiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLnJlc2V0KSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDlj5flh7tcclxuICAgIGhpdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1Nob3cgJiYgIXRoaXMuaXNIaXQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZVxyXG4gICAgICAgICAgICB0aGlzLmlzSGl0ID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLm5vcm1hbEltZy52aXNpYmxlID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5oaXRJbWcudmlzaWJsZSA9IHRydWVcclxuICAgICAgICAgICAgdGhpcy5oaXRDYWxsQmFja0hhbmRsZXIucnVuV2l0aCh0aGlzLnR5cGUpXHJcbiAgICAgICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5oaWRlKVxyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoNTAwLCB0aGlzLCB0aGlzLnJlc2V0KVxyXG4gICAgICAgICAgICB0aGlzLnNob3dTY29yZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8g5pi+56S66aOY5a2X5pWI5p6cXHJcbiAgICBzaG93U2NvcmUoKSB7XHJcbiAgICAgICAgdGhpcy5zY29yZUltZy55ID0gdGhpcy5zY29yZVkgKyAzMFxyXG4gICAgICAgIHRoaXMuc2NvcmVJbWcuc2NhbGUoMSwgMSlcclxuICAgICAgICB0aGlzLnNjb3JlSW1nLnZpc2libGUgPSB0cnVlXHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLnNjb3JlSW1nLCB7IHk6IHRoaXMuc2NvcmVZLCBzY2FsZVg6IDEsIHNjb3JlWTogMSB9LCAzMDAsIExheWEuRWFzZS5iYWNrT3V0KVxyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xudmFyIFJFRzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XG5leHBvcnQgbW9kdWxlIHVpIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyBMYXlhLlZpZXcge1xyXG5cdFx0cHVibGljIG5vcm1hbDpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgdGltZWJhcjpMYXlhLlByb2dyZXNzQmFyO1xuXHRcdHB1YmxpYyBzY29yZWxhYmVsOkxheWEuRm9udENsaXA7XG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJHYW1lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLkdhbWVVSVwiLEdhbWVVSSk7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZU92ZXJVSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgcmVzdGFydEJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgc2NvcmU6TGF5YS5Gb250Q2xpcDtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcIkdhbWVPdmVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLkdhbWVPdmVyVUlcIixHYW1lT3ZlclVJKTtcclxuICAgIGV4cG9ydCBjbGFzcyBHYW1lU3RhcnRVSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgYnRuX3N0YXJ0OkxheWEuQnV0dG9uO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiR2FtZVN0YXJ0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLkdhbWVTdGFydFVJXCIsR2FtZVN0YXJ0VUkpO1xyXG4gICAgZXhwb3J0IGNsYXNzIEhhbW1lclVJIGV4dGVuZHMgTGF5YS5WaWV3IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiSGFtbWVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLkhhbW1lclVJXCIsSGFtbWVyVUkpO1xyXG59XHIiXX0=
